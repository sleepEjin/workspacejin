CREATE USER c##AUGUST IDENTIFIED BY SERVER;

GRANT CONNECT, RESOURCE TO c##AUGUST;

ALTER USER C##AUGUST DEFAULT TABLESPACE USERS QUOTA UNLIMITED ON USERS;

CREATE TABLE TEACHER (
    TEACHER_ID NUMBER PRIMARY KEY,
    NAME VARCHAR2(20) NOT NULL,
    EMAIL VARCHAR2(50) UNIQUE NOT NULL,
    HIRE_DATE DATE,
    SUBJECT VARCHAR2(30)
);
INSERT INTO TEACHER
VALUES(1,'일번쌤','EMAIL1@NAVER.COM','21/02/06','국어');

INSERT INTO TEACHER
VALUES(2,'이번쌤','EMAIL2@NAVER.COM','12/05/21','수학');

INSERT INTO TEACHER
VALUES(3,'삼번쌤','EMAIL3@NAVER.COM','03/11/23','영어');

INSERT INTO TEACHER
VALUES(4,'사번쌤','EMAIL4@NAVER.COM','94/08/19','사회');

INSERT INTO TEACHER
VALUES(5,'오번쌤','EMAIL5@NAVER.COM','25/06/06','과학');

CREATE TABLE LECTURE (
    LECTURE_ID NUMBER PRIMARY KEY,
    TITLE VARCHAR2(30) NOT NULL,
    TEACHER_ID NUMBER REFERENCES TEACHER(TEACHER_ID),
    INDEX_COUNT NUMBER DEFAULT '0' NOT NULL,
    CATEGORY VARCHAR2(30),
    START_DATE DATE NOT NULL,
    END_DATE DATE 
);

INSERT INTO LECTURE
VALUES(101,'문학', 1, 30, NULL, SYSDATE,'26/01/21');

INSERT INTO LECTURE
VALUES(111,'미적', 2, 50, NULL, SYSDATE,'26/08/28');

INSERT INTO LECTURE
VALUES(121,'영문법', 3, 25, NULL, SYSDATE,'26/01/01');

INSERT INTO LECTURE
VALUES(131,'한국사', 4, 15, NULL, SYSDATE,'25/10/31');

INSERT INTO LECTURE
VALUES(141,'물리', 5, 20, NULL, SYSDATE,'26/01/01');

CREATE TABLE STUDENT (
    STUDENT_ID NUMBER PRIMARY KEY,
    NAME VARCHAR2(30) NOT NULL,
    GRADE NUMBER NOT NULL,
    EMAIL VARCHAR2(50),
    JOIN_DATE DATE
);

INSERT INTO STUDENT
VALUES(1001,'홍길동', 2, NULL, '24/12/12');

INSERT INTO STUDENT
VALUES(1002,'김마리', 1, 'MALEE@NAVER.COM', '24/12/12');

INSERT INTO STUDENT
VALUES(1003,'이가을', 1, 'FALL1212@GMAIL.COM', '25/02/17');

INSERT INTO STUDENT
VALUES(1004,'박규민', 4, 'KYU12@HANMAIL.NET', '25/07/28');

INSERT INTO STUDENT
VALUES(1005,'최용규', 3, 'DYDRB@NAVER.COM', '25/03/31');

CREATE TABLE ENROLLMENT (
    ENROLL_ID NUMBER PRIMARY KEY,
    STUDENT_ID NUMBER REFERENCES STUDENT(STUDENT_ID),
    LECTURE_ID NUMBER REFERENCES LECTURE(LECTURE_ID),
    ENROLL_DATE DATE NOT NULL,
    STATUS CHAR(1) CHECK (STATUS IN ('Y','N')) NOT NULL,
    GRADE_SCORE NUMBER
);

INSERT INTO ENROLLMENT
VALUES(5001, 1001, 131, '25/03/14','N', 78);

INSERT INTO ENROLLMENT
VALUES(5002, 1004, 121, '25/08/04','Y', NULL);

INSERT INTO ENROLLMENT
VALUES(5003, 1003, 111, '25/06/14','N', 67);

INSERT INTO ENROLLMENT
VALUES(5004, 1002, 121, '25/05/30','Y', NULL);

INSERT INTO ENROLLMENT
VALUES(5005, 1005, 101, '25/02/08','N', 89);

